<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1030px" preserveAspectRatio="none" style="width:2142px;height:1030px;background:#FFFFFF;" version="1.1" viewBox="0 0 2142 1030" width="2142px" zoomAndPan="magnify"><title>FOMC Agent - GitHub Actions Validate + Deploy Flow</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="653.5225" x="747.8098" y="37.1182">FOMC Agent - GitHub Actions Validate + Deploy Flow</text><g><title>Job. validate</title><rect fill="#FFFFFF" height="187.9966" style="stroke:#000000;stroke-width:1;" width="10" x="550.4761" y="222.1499"/></g><g><title>Job. deploy</title><rect fill="#FFFFFF" height="400.3911" style="stroke:#000000;stroke-width:1;" width="10" x="742.1392" y="464.7451"/></g><rect fill="#FFFFFF" height="506.1577" style="stroke:#000000;stroke-width:1;" width="1848.3208" x="286.8213" y="425.1465"/><rect fill="#FFFFFF" height="58.168" style="stroke:none;stroke-width:1;" width="1848.3208" x="286.8213" y="873.1362"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Dev" id="part1-lifeline"><g><title>Developer</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="44.564" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="48" x2="48" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Repo" id="part2-lifeline"><g><title>GitHub Repo</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="221.5552" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="225.2891" x2="225.2891" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="Workflow" id="part3-lifeline"><g><title>Workflow</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="359.8091" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="362.8213" x2="362.8213" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="Validate" id="part4-lifeline"><g><title>Job. validate</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="551.4761" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="554.6118" x2="554.6118" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="Deploy" id="part5-lifeline"><g><title>Job. deploy</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="743.1392" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="746.8872" x2="746.8872" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="OIDC" id="part6-lifeline"><g><title>GitHub OIDC Provider</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="993.1182" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="996.2339" x2="996.2339" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="STS" id="part7-lifeline"><g><title>AWS STS</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="1200.8389" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1204.0024" x2="1204.0024" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="Role" id="part8-lifeline"><g><title>IAM Role</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="1449.6919" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1453.5073" x2="1453.5073" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="CDK" id="part9-lifeline"><g><title>CDK CLI</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="1614.1992" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1617.8765" x2="1617.8765" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part10" data-qualified-name="CFN" id="part10-lifeline"><g><title>CloudFormation</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="1742.999" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1746.522" x2="1746.522" y1="130.752" y2="948.3042"/></g></g><g class="participant-lifeline" data-entity-uid="part11" data-qualified-name="Stacks" id="part11-lifeline"><g><title>AWS Stacks</title><rect fill="#000000" fill-opacity="0.00000" height="817.5522" width="8" x="1973.3091" y="130.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1976.4761" x2="1976.4761" y1="130.752" y2="948.3042"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Dev" id="part1-head"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.1279" x="10" y="127.8125">Developer</text><ellipse cx="48.564" cy="61.7373" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M48.564,69.7373 L48.564,96.7373 M35.564,77.7373 L61.564,77.7373 M48.564,96.7373 L35.564,111.7373 M48.564,96.7373 L61.564,111.7373" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Dev" id="part1-tail"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.1279" x="10" y="961.3794">Developer</text><ellipse cx="48.564" cy="973.3188" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M48.564,981.3188 L48.564,1008.3188 M35.564,989.3188 L61.564,989.3188 M48.564,1008.3188 L35.564,1023.3188 M48.564,1008.3188 L61.564,1023.3188" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Repo" id="part2-head"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.5322" x="174.2891" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.5322" x="181.2891" y="119.8125">GitHub Repo</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Repo" id="part2-tail"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.5322" x="174.2891" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.5322" x="181.2891" y="968.3794">GitHub Repo</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="Workflow" id="part3-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="113.9756" x="306.8213" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.3174" x="331.1504" y="102.7979">Workflow</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.9756" x="313.8213" y="119.8125">CI and Deploy</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="Workflow" id="part3-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="113.9756" x="306.8213" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.3174" x="331.1504" y="968.3794">Workflow</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.9756" x="313.8213" y="985.394">CI and Deploy</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="Validate" id="part4-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="159.7285" x="475.6118" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90.2275" x="510.3623" y="102.7979">Job: validate</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.7285" x="482.6118" y="119.8125">(pytest + cdk synth)</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="Validate" id="part4-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="159.7285" x="475.6118" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90.2275" x="510.3623" y="968.3794">Job: validate</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.7285" x="482.6118" y="985.394">(pytest + cdk synth)</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="Deploy" id="part5-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.5039" x="679.8872" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.2725" x="706.5029" y="102.7979">Job: deploy</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.5039" x="686.8872" y="119.8125">(push main only)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="Deploy" id="part5-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.5039" x="679.8872" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.2725" x="706.5029" y="968.3794">Job: deploy</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.5039" x="686.8872" y="985.394">(push main only)</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="OIDC" id="part6-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="275.7686" x="859.2339" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.7129" x="920.2617" y="102.7979">GitHub OIDC Provider</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="261.7686" x="866.2339" y="119.8125">token.actions.githubusercontent.com</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="OIDC" id="part6-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="275.7686" x="859.2339" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.7129" x="920.2617" y="968.3794">GitHub OIDC Provider</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="261.7686" x="866.2339" y="985.394">token.actions.githubusercontent.com</text></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="STS" id="part7-head"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="79.6729" x="1165.0024" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.6729" x="1172.0024" y="119.8125">AWS STS</text></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="STS" id="part7-tail"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="79.6729" x="1165.0024" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.6729" x="1172.0024" y="968.3794">AWS STS</text></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="Role" id="part8-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="196.3691" x="1355.5073" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62.5967" x="1422.3936" y="102.7979">IAM Role</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="182.3691" x="1362.5073" y="119.8125">AWS_DEPLOY_ROLE_ARN</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="Role" id="part8-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="196.3691" x="1355.5073" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62.5967" x="1422.3936" y="968.3794">IAM Role</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="182.3691" x="1362.5073" y="985.394">AWS_DEPLOY_ROLE_ARN</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="CDK" id="part9-head"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="72.6455" x="1581.8765" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.6455" x="1588.8765" y="119.8125">CDK CLI</text></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="CDK" id="part9-tail"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="72.6455" x="1581.8765" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.6455" x="1588.8765" y="968.3794">CDK CLI</text></g><g class="participant participant-head" data-entity-uid="part10" data-qualified-name="CFN" id="part10-head"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.9541" x="1684.522" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.9541" x="1691.522" y="119.8125">CloudFormation</text></g><g class="participant participant-tail" data-entity-uid="part10" data-qualified-name="CFN" id="part10-tail"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.9541" x="1684.522" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.9541" x="1691.522" y="968.3794">CloudFormation</text></g><g class="participant participant-head" data-entity-uid="part11" data-qualified-name="Stacks" id="part11-head"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="275.666" x="1839.4761" y="81.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="1935.1724" y="102.7979">AWS Stacks</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="261.666" x="1846.4761" y="119.8125">(Storage, Compute, Messaging, Site)</text></g><g class="participant participant-tail" data-entity-uid="part11" data-qualified-name="Stacks" id="part11-tail"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="275.666" x="1839.4761" y="947.3042"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="1935.1724" y="968.3794">AWS Stacks</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="261.666" x="1846.4761" y="985.394">(Storage, Compute, Messaging, Site)</text></g><g><title>Job. validate</title><rect fill="#FFFFFF" height="187.9966" style="stroke:#000000;stroke-width:1;" width="10" x="550.4761" y="222.1499"/></g><g><title>Job. deploy</title><rect fill="#FFFFFF" height="400.3911" style="stroke:#000000;stroke-width:1;" width="10" x="742.1392" y="464.7451"/></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#000000" points="213.5552,158.5513,223.5552,162.5513,213.5552,166.5513,217.5552,162.5513" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="48.564" x2="219.5552" y1="162.5513" y2="162.5513"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.9912" x="55.564" y="157.8218">push commit / open PR</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#000000" points="351.8091,188.3506,361.8091,192.3506,351.8091,196.3506,355.8091,192.3506" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="225.5552" x2="357.8091" y1="192.3506" y2="192.3506"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106.7358" x="232.5552" y="187.6211">trigger workflow</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#000000" points="538.4761,218.1499,548.4761,222.1499,538.4761,226.1499,542.4761,222.1499" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="363.8091" x2="544.4761" y1="222.1499" y2="222.1499"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.667" x="370.8091" y="217.4204">start on PR + push(main)</text></g><g class="message" data-entity-1="part4" data-entity-2="part4" id="msg4"><line style="stroke:#000000;stroke-width:1;" x1="560.4761" x2="602.4761" y1="251.9492" y2="251.9492"/><line style="stroke:#000000;stroke-width:1;" x1="602.4761" x2="602.4761" y1="251.9492" y2="264.9492"/><line style="stroke:#000000;stroke-width:1;" x1="561.4761" x2="602.4761" y1="264.9492" y2="264.9492"/><polygon fill="#000000" points="571.4761,260.9492,561.4761,264.9492,571.4761,268.9492,567.4761,264.9492" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.7725" x="567.4761" y="247.2197">setup Python + Node</text></g><g class="message" data-entity-1="part4" data-entity-2="part4" id="msg5"><line style="stroke:#000000;stroke-width:1;" x1="560.4761" x2="602.4761" y1="294.7485" y2="294.7485"/><line style="stroke:#000000;stroke-width:1;" x1="602.4761" x2="602.4761" y1="294.7485" y2="307.7485"/><line style="stroke:#000000;stroke-width:1;" x1="561.4761" x2="602.4761" y1="307.7485" y2="307.7485"/><polygon fill="#000000" points="571.4761,303.7485,561.4761,307.7485,571.4761,311.7485,567.4761,307.7485" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.6631" x="567.4761" y="290.019">install deps (.[dev,cdk])</text></g><g class="message" data-entity-1="part4" data-entity-2="part4" id="msg6"><line style="stroke:#000000;stroke-width:1;" x1="560.4761" x2="602.4761" y1="337.5479" y2="337.5479"/><line style="stroke:#000000;stroke-width:1;" x1="602.4761" x2="602.4761" y1="337.5479" y2="350.5479"/><line style="stroke:#000000;stroke-width:1;" x1="561.4761" x2="602.4761" y1="350.5479" y2="350.5479"/><polygon fill="#000000" points="571.4761,346.5479,561.4761,350.5479,571.4761,354.5479,567.4761,350.5479" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="67.1265" x="567.4761" y="332.8184">run pytest</text></g><g class="message" data-entity-1="part4" data-entity-2="part9" id="msg7"><polygon fill="#000000" points="1606.1992,376.3472,1616.1992,380.3472,1606.1992,384.3472,1610.1992,380.3472" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="560.4761" x2="1612.1992" y1="380.3472" y2="380.3472"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="67.3613" x="567.4761" y="375.6177">synth --all</text></g><g class="message" data-entity-1="part9" data-entity-2="part4" id="msg8"><polygon fill="#000000" points="566.4761,406.1465,556.4761,410.1465,566.4761,414.1465,562.4761,410.1465" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="560.4761" x2="1617.1992" y1="410.1465" y2="410.1465"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="64.6255" x="572.4761" y="405.417">templates</text></g><path d="M286.8213,425.1465 L350.8706,425.1465 L350.8706,432.9458 L340.8706,442.9458 L286.8213,442.9458 L286.8213,425.1465" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="506.1577" style="stroke:#000000;stroke-width:1;" width="1848.3208" x="286.8213" y="425.1465"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="301.8213" y="439.2163">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223.2334" x="365.8706" y="438.2056">[push to main AND validate passed]</text><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg9"><polygon fill="#000000" points="730.1392,460.7451,740.1392,464.7451,730.1392,468.7451,734.1392,464.7451" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="363.8091" x2="736.1392" y1="464.7451" y2="464.7451"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="103.0732" x="370.8091" y="460.0156">start deploy job</text></g><g class="message" data-entity-1="part5" data-entity-2="part6" id="msg10"><polygon fill="#000000" points="985.1182,490.5444,995.1182,494.5444,985.1182,498.5444,989.1182,494.5444" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="752.1392" x2="991.1182" y1="494.5444" y2="494.5444"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129.873" x="759.1392" y="489.8149">request OIDC token</text></g><g class="message" data-entity-1="part6" data-entity-2="part5" id="msg11"><polygon fill="#000000" points="763.1392,520.3438,753.1392,524.3438,763.1392,528.3438,759.1392,524.3438" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="757.1392" x2="996.1182" y1="524.3438" y2="524.3438"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.855" x="769.1392" y="519.6143">signed JWT</text></g><g class="message" data-entity-1="part5" data-entity-2="part7" id="msg12"><polygon fill="#000000" points="1192.8389,550.1431,1202.8389,554.1431,1192.8389,558.1431,1196.8389,554.1431" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="752.1392" x2="1198.8389" y1="554.1431" y2="554.1431"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="188.8047" x="759.1392" y="549.4136">AssumeRoleWithWebIdentity</text></g><g class="message" data-entity-1="part7" data-entity-2="part8" id="msg13"><polygon fill="#000000" points="1441.6919,579.9424,1451.6919,583.9424,1441.6919,587.9424,1445.6919,583.9424" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1204.8389" x2="1447.6919" y1="583.9424" y2="583.9424"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="224.853" x="1211.8389" y="579.2129">trust policy check (repo + branch)</text></g><g class="message" data-entity-1="part8" data-entity-2="part7" id="msg14"><polygon fill="#000000" points="1215.8389,609.7417,1205.8389,613.7417,1215.8389,617.7417,1211.8389,613.7417" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1209.8389" x2="1452.6919" y1="613.7417" y2="613.7417"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="33.4712" x="1221.8389" y="609.0122">allow</text></g><g class="message" data-entity-1="part7" data-entity-2="part5" id="msg15"><polygon fill="#000000" points="763.1392,639.541,753.1392,643.541,763.1392,647.541,759.1392,643.541" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="757.1392" x2="1203.8389" y1="643.541" y2="643.541"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178.8389" x="769.1392" y="638.8115">temporary AWS credentials</text></g><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg16"><line style="stroke:#000000;stroke-width:1;" x1="752.1392" x2="794.1392" y1="673.3403" y2="673.3403"/><line style="stroke:#000000;stroke-width:1;" x1="794.1392" x2="794.1392" y1="673.3403" y2="686.3403"/><line style="stroke:#000000;stroke-width:1;" x1="753.1392" x2="794.1392" y1="686.3403" y2="686.3403"/><polygon fill="#000000" points="763.1392,682.3403,753.1392,686.3403,763.1392,690.3403,759.1392,686.3403" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="215.979" x="759.1392" y="668.6108">write .env.shared from repo vars</text></g><g class="message" data-entity-1="part5" data-entity-2="part9" id="msg17"><polygon fill="#000000" points="1606.1992,712.1396,1616.1992,716.1396,1606.1992,720.1396,1610.1992,716.1396" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="752.1392" x2="1612.1992" y1="716.1396" y2="716.1396"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="43.0942" x="759.1392" y="711.4102">deploy</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" text-decoration="line-through" textLength="14.9424" x="806.8037" y="711.4102">all</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150.4204" x="826.3164" y="711.4102">require-approval never</text></g><g class="message" data-entity-1="part9" data-entity-2="part10" id="msg18"><polygon fill="#000000" points="1734.999,741.939,1744.999,745.939,1734.999,749.939,1738.999,745.939" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1618.1992" x2="1740.999" y1="745.939" y2="745.939"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="90.6128" x="1625.1992" y="741.2095">update stacks</text></g><g class="message" data-entity-1="part10" data-entity-2="part11" id="msg19"><polygon fill="#000000" points="1965.3091,771.7383,1975.3091,775.7383,1965.3091,779.7383,1969.3091,775.7383" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1746.999" x2="1971.3091" y1="775.7383" y2="775.7383"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159.3325" x="1753.999" y="771.0088">create/update resources</text></g><g class="message" data-entity-1="part11" data-entity-2="part10" id="msg20"><polygon fill="#000000" points="1757.999,801.5376,1747.999,805.5376,1757.999,809.5376,1753.999,805.5376" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1751.999" x2="1976.3091" y1="805.5376" y2="805.5376"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.457" x="1763.999" y="800.8081">outputs (SiteUrl, etc.)</text></g><g class="message" data-entity-1="part10" data-entity-2="part9" id="msg21"><polygon fill="#000000" points="1629.1992,831.3369,1619.1992,835.3369,1629.1992,839.3369,1625.1992,835.3369" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1623.1992" x2="1745.999" y1="835.3369" y2="835.3369"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="49.8354" x="1635.1992" y="830.6074">success</text></g><g class="message" data-entity-1="part9" data-entity-2="part5" id="msg22"><polygon fill="#000000" points="758.1392,861.1362,748.1392,865.1362,758.1392,869.1362,754.1392,865.1362" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="752.1392" x2="1617.1992" y1="865.1362" y2="865.1362"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.25" x="764.1392" y="860.4067">deploy complete</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="286.8213" x2="2135.1421" y1="874.1362" y2="874.1362"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154.6606" x="291.8213" y="885.1953">[PR or non-main branch]</text><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg23"><line style="stroke:#000000;stroke-width:1;" x1="363.8091" x2="405.8091" y1="910.3042" y2="910.3042"/><line style="stroke:#000000;stroke-width:1;" x1="405.8091" x2="405.8091" y1="910.3042" y2="923.3042"/><line style="stroke:#000000;stroke-width:1;" x1="364.8091" x2="405.8091" y1="923.3042" y2="923.3042"/><polygon fill="#000000" points="374.8091,919.3042,364.8091,923.3042,374.8091,927.3042,370.8091,923.3042" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98.833" x="370.8091" y="905.5747">skip deploy job</text></g><?plantuml-src TLLDSzem4BtxLsnpWabCxXmomq3IakQ3WRHCf-baXBq15Lbo9Hc6VzydsRWuJIvWUT--_NehV_8RBfXA9QHEt5RgKbXHaDk8tEobNjEhK8wJn4klc6uUxySqMhFsbD9dwRzKAnfbNXhjwBjGCXUUwPmcN2fpe1jbzaaYCcyidKrunygKRCz8E21s2I9vcSbIWEsi8PjpQI8WF7GHIsEths1yrkCf2PqtKIBwQEjwt9hLa7PDMi-wLnuyEu_yidnBxg3zfX-zZvc_uvt76C6tSXigq2GoMXtwJH71-6uTZzF9c6RMx6JEzbbxisKz47Md1clfDzMgScmpepsQESXC4Hc3MvTlj5pGucaHhVZl6gUZUveRXTe0UvbSp-uUVxpC7--kNqRpXxgDi7PznfElDBwRHYkUtnYLgV8ROmiHCgqnDm_lPEH5jdLeomAp5Mk-eB4foihZuPwT4sievu8MqdFTgHgV91WxfLTnk3Ias5EKNaXFbmHjQ9hDasW4w3XJ0BsLwpLRsX_7tDg0QtKt9EUHA0O46amvqFV2oFfHX78NGEsiMxSt5EohacO7lm7DEJsO_4Eer8YdLD28ezxWPywx2oZhL_yZ1rjfgZNOGOI936izKfg2CGblqgwlvm8x2jyav_-BIOJoTJkzgLKwUfYqqgTIECTvGdJQjsP9ZrshbKw_pGguDa8ZSJgYuHUbZMBuJnMsAHwZle6AXxH3BjUQSxfTFdL886KOHyvL1GUDBh4IIrvDSso3z25WG0Ifm1WLK25MQPJC3fHjEDjIpmQXdDFA2frj-d29sBHbHoSXbORfDAVGIyZM7YXeERCSe-AUwwJOmlSMEgO1wzq0roBGz6fDGJ7yJjYkLptCffbnclWDlPAMKr6Mk1A48etBqC8l3legx1YSgZ8EozMxGl5jA2QUOKUYi5ysCClEL3RZW6mWQKjbAezjX2h32dwpweBOPuF-aVIVwAeC3EwOoMdLJGbOpr8n94Pq8hn65enFGzWrtE_Qw3GAhnx76wsTx3A-CUMfs5ZdoLy0?></g></svg>